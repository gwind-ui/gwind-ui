import{d as h,k as se,l as ve,b as w,o as v,j as m,g as E,m as N,f as e,v as me,r as x,e as L,O as Te,M as ye,c as V,s as we,w as De,I as ke,n as R,a2 as Re,T as Q,J as Se,x as _e,y as ge,G as Ae,N as U,L as Ie}from"./vue.esm-bundler-CDO2oHXK.js";import{a as O}from"./utils-N9jxOpu3.js";import{b as M,p as Fe,q as be,o as Ee,i as qe,u as Be,c as le}from"./useForwardExpose-BfXw-hnz.js";import{P as q}from"./Primitive-BG2Gt-GN.js";import{c as Le}from"./index-DZcI7uxW.js";import{G as Me}from"./GIcon-BIWwU8Ge.js";import{G as Oe}from"./g-icon-cross-C_9ug1ue.js";import{u as Ve}from"./useForwardPropsEmits-CrpZhFqP.js";import{c as he}from"./createContext-B-1E407x.js";import{u as ae}from"./Collection-Og8eIrJl.js";import{g as Z}from"./getActiveElement-FUKBWQwh.js";import{V as Ce}from"./VisuallyHidden-DXQQzpu6.js";import{P as Ne}from"./Presence-D9vIVm08.js";import{c as ie}from"./DismissableLayer-Cuw9jd25.js";import{a as J,b as $e}from"./utils-CiIgqHKy.js";import{_ as Ge}from"./button-D3CkTnWD.js";import"./usePrimitiveElement-DwTCBgzO.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";var Ke=h({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const s=o,{forwardRef:a,currentElement:t}=M();return se(()=>{ie.branches.add(t.value)}),ve(()=>{ie.branches.delete(t.value)}),(u,i)=>(v(),w(e(q),N({ref:e(a)},s),{default:m(()=>[E(u.$slots,"default")]),_:3},16))}}),ze=Ke,Ue=h({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){return(s,a)=>(v(),w(e(q),{as:s.as,"as-child":s.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":s.altText||void 0},{default:m(()=>[E(s.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),We=Ue;const[Y,Xe]=he("ToastProvider");var He=h({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(o){const s=o,{label:a,duration:t,swipeDirection:u,swipeThreshold:i}=me(s);ae({isProvider:!0});const f=x(),r=x(0),n=x(!1),p=x(!1);if(s.label&&typeof s.label=="string"&&!s.label.trim()){const T="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(T)}return Xe({label:a,duration:t,swipeDirection:u,swipeThreshold:i,toastCount:r,viewport:f,onViewportChange(T){f.value=T},onToastAdd(){r.value++},onToastRemove(){r.value--},isFocusedToastEscapeKeyDownRef:n,isClosePausedRef:p}),(T,g)=>E(T.$slots,"default")}}),Ye=He,je=h({__name:"ToastAnnounce",setup(o){const s=Y(),a=Fe(1e3),t=x(!1);return be(()=>{t.value=!0}),(u,i)=>e(a)||t.value?(v(),w(e(Ce),{key:0},{default:m(()=>[Te(ye(e(s).label.value)+" ",1),E(u.$slots,"default")]),_:3})):L("v-if",!0)}}),Je=je;const Qe="toast.swipeStart",Ze="toast.swipeMove",et="toast.swipeCancel",tt="toast.swipeEnd",ee="toast.viewportPause",te="toast.viewportResume";function X(o,s,a){const t=a.originalEvent.currentTarget,u=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:a});s&&t.addEventListener(o,s,{once:!0}),t.dispatchEvent(u)}function ue(o,s,a=0){const t=Math.abs(o.x),u=Math.abs(o.y),i=t>u;return s==="left"||s==="right"?i&&t>a:!i&&u>a}function st(o){return o.nodeType===o.ELEMENT_NODE}function xe(o){const s=[];return Array.from(o.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),st(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",i=t.dataset.rekaToastAnnounceExclude==="";if(!u)if(i){const f=t.dataset.rekaToastAnnounceAlt;f&&s.push(f)}else s.push(...xe(t))}}),s}const[at,ot]=he("ToastRoot");var rt=h({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(o,{emit:s}){const a=o,t=s,{forwardRef:u,currentElement:i}=M(),{CollectionItem:f}=ae(),r=Y(),n=x(null),p=x(null),T=V(()=>typeof a.duration=="number"?a.duration:r.duration.value),g=x(0),S=x(T.value),B=x(0),P=x(T.value),d=be(()=>{const c=new Date().getTime()-g.value;P.value=Math.max(S.value-c,0)},{fpsLimit:60});function y(c){c<=0||c===Number.POSITIVE_INFINITY||qe&&(window.clearTimeout(B.value),g.value=new Date().getTime(),B.value=window.setTimeout(C,c))}function C(c){var b,D;const _=(c==null?void 0:c.pointerType)==="";((b=i.value)==null?void 0:b.contains(Z()))&&_&&((D=r.viewport.value)==null||D.focus()),_&&(r.isClosePausedRef.value=!1),t("close")}const A=V(()=>i.value?xe(i.value):null);if(a.type&&!["foreground","background"].includes(a.type)){const c="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(c)}return we(c=>{const _=r.viewport.value;if(_){const l=()=>{y(S.value),d.resume(),t("resume")},b=()=>{const D=new Date().getTime()-g.value;S.value=S.value-D,window.clearTimeout(B.value),d.pause(),t("pause")};return _.addEventListener(ee,b),_.addEventListener(te,l),()=>{_.removeEventListener(ee,b),_.removeEventListener(te,l)}}}),De(()=>[a.open,T.value],()=>{S.value=T.value,a.open&&!r.isClosePausedRef.value&&y(T.value)},{immediate:!0}),Ee("Escape",c=>{t("escapeKeyDown",c),c.defaultPrevented||(r.isFocusedToastEscapeKeyDownRef.value=!0,C())}),se(()=>{r.onToastAdd()}),ve(()=>{r.onToastRemove()}),ot({onClose:C}),(c,_)=>(v(),ke(Se,null,[A.value?(v(),w(Je,{key:0,role:"alert","aria-live":c.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:m(()=>[Te(ye(A.value),1)]),_:1},8,["aria-live"])):L("v-if",!0),e(r).viewport.value?(v(),w(Q,{key:1,to:e(r).viewport.value},[R(e(f),null,{default:m(()=>[R(e(q),N({ref:e(u),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},c.$attrs,{as:c.as,"as-child":c.asChild,"data-state":c.open?"open":"closed","data-swipe-direction":e(r).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:_[0]||(_[0]=Re(l=>{n.value={x:l.clientX,y:l.clientY}},["left"])),onPointermove:_[1]||(_[1]=l=>{if(!n.value)return;const b=l.clientX-n.value.x,D=l.clientY-n.value.y,I=!!p.value,F=["left","right"].includes(e(r).swipeDirection.value),k=["left","up"].includes(e(r).swipeDirection.value)?Math.min:Math.max,j=F?k(0,b):0,$=F?0:k(0,D),W=l.pointerType==="touch"?10:2,G={x:j,y:$},K={originalEvent:l,delta:G};I?(p.value=G,e(X)(e(Ze),z=>t("swipeMove",z),K)):e(ue)(G,e(r).swipeDirection.value,W)?(p.value=G,e(X)(e(Qe),z=>t("swipeStart",z),K),l.target.setPointerCapture(l.pointerId)):(Math.abs(b)>W||Math.abs(D)>W)&&(n.value=null)}),onPointerup:_[2]||(_[2]=l=>{const b=p.value,D=l.target;if(D.hasPointerCapture(l.pointerId)&&D.releasePointerCapture(l.pointerId),p.value=null,n.value=null,b){const I=l.currentTarget,F={originalEvent:l,delta:b};e(ue)(b,e(r).swipeDirection.value,e(r).swipeThreshold.value)?e(X)(e(tt),k=>t("swipeEnd",k),F):e(X)(e(et),k=>t("swipeCancel",k),F),I==null||I.addEventListener("click",k=>k.preventDefault(),{once:!0})}})}),{default:m(()=>[E(c.$slots,"default",{remaining:P.value,duration:T.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):L("v-if",!0)],64))}}),nt=rt,lt=h({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const s=o,a=at(),{forwardRef:t}=M();return(u,i)=>(v(),w(We,{"as-child":""},{default:m(()=>[R(e(q),N(s,{ref:e(t),type:u.as==="button"?"button":void 0,onClick:e(a).onClose}),{default:m(()=>[E(u.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),it=lt,ut=h({__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const s=o;return M(),(a,t)=>(v(),w(e(q),_e(ge(s)),{default:m(()=>[E(a.$slots,"default")]),_:3},16))}}),pt=ut,dt=h({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(o,{emit:s}){const a=o,t=s,{forwardRef:u}=M(),i=Be(a,"open",t,{defaultValue:a.defaultOpen,passive:a.open===void 0});return(f,r)=>(v(),w(e(Ne),{present:f.forceMount||e(i)},{default:m(()=>[R(nt,N({ref:e(u),open:e(i),type:f.type,as:f.as,"as-child":f.asChild,duration:f.duration},f.$attrs,{onClose:r[0]||(r[0]=n=>i.value=!1),onPause:r[1]||(r[1]=n=>t("pause")),onResume:r[2]||(r[2]=n=>t("resume")),onEscapeKeyDown:r[3]||(r[3]=n=>t("escapeKeyDown",n)),onSwipeStart:r[4]||(r[4]=n=>{t("swipeStart",n),n.defaultPrevented||n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:r[5]||(r[5]=n=>{if(t("swipeMove",n),!n.defaultPrevented){const{x:p,y:T}=n.detail.delta,g=n.currentTarget;g.setAttribute("data-swipe","move"),g.style.setProperty("--reka-toast-swipe-move-x",`${p}px`),g.style.setProperty("--reka-toast-swipe-move-y",`${T}px`)}}),onSwipeCancel:r[6]||(r[6]=n=>{if(t("swipeCancel",n),!n.defaultPrevented){const p=n.currentTarget;p.setAttribute("data-swipe","cancel"),p.style.removeProperty("--reka-toast-swipe-move-x"),p.style.removeProperty("--reka-toast-swipe-move-y"),p.style.removeProperty("--reka-toast-swipe-end-x"),p.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:r[7]||(r[7]=n=>{if(t("swipeEnd",n),!n.defaultPrevented){const{x:p,y:T}=n.detail.delta,g=n.currentTarget;g.setAttribute("data-swipe","end"),g.style.removeProperty("--reka-toast-swipe-move-x"),g.style.removeProperty("--reka-toast-swipe-move-y"),g.style.setProperty("--reka-toast-swipe-end-x",`${p}px`),g.style.setProperty("--reka-toast-swipe-end-y",`${T}px`),i.value=!1}})}),{default:m(({remaining:n,duration:p})=>[E(f.$slots,"default",{remaining:n,duration:p,open:e(i)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),ct=dt,ft=h({__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const s=o;return M(),(a,t)=>(v(),w(e(q),_e(ge(s)),{default:m(()=>[E(a.$slots,"default")]),_:3},16))}}),vt=ft,mt=h({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(o,{emit:s}){const a=s,t=Y();return(u,i)=>(v(),w(e(Ce),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:i[0]||(i[0]=f=>{var p;const r=f.relatedTarget;!((p=e(t).viewport.value)!=null&&p.contains(r))&&a("focusFromOutsideViewport")})},{default:m(()=>[E(u.$slots,"default")]),_:3}))}}),pe=mt,Tt=h({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(o){const s=o,{hotkey:a,label:t}=me(s),{forwardRef:u,currentElement:i}=M(),{CollectionSlot:f,getItems:r}=ae(),n=Y(),p=V(()=>n.toastCount.value>0),T=x(),g=x(),S=V(()=>a.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));Ee(a.value,()=>{i.value.focus()}),se(()=>{n.onViewportChange(i.value)}),we(P=>{const d=i.value;if(p.value&&d){const y=()=>{if(!n.isClosePausedRef.value){const l=new CustomEvent(ee);d.dispatchEvent(l),n.isClosePausedRef.value=!0}},C=()=>{if(n.isClosePausedRef.value){const l=new CustomEvent(te);d.dispatchEvent(l),n.isClosePausedRef.value=!1}},A=l=>{!d.contains(l.relatedTarget)&&C()},c=()=>{d.contains(Z())||C()},_=l=>{var I,F,k;const b=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!b){const j=Z(),$=l.shiftKey;if(l.target===d&&$){(I=T.value)==null||I.focus();return}const K=B({tabbingDirection:$?"backwards":"forwards"}),z=K.findIndex(Pe=>Pe===j);J(K.slice(z+1))?l.preventDefault():$?(F=T.value)==null||F.focus():(k=g.value)==null||k.focus()}};d.addEventListener("focusin",y),d.addEventListener("focusout",A),d.addEventListener("pointermove",y),d.addEventListener("pointerleave",c),d.addEventListener("keydown",_),window.addEventListener("blur",y),window.addEventListener("focus",C),P(()=>{d.removeEventListener("focusin",y),d.removeEventListener("focusout",A),d.removeEventListener("pointermove",y),d.removeEventListener("pointerleave",c),d.removeEventListener("keydown",_),window.removeEventListener("blur",y),window.removeEventListener("focus",C)})}});function B({tabbingDirection:P}){const y=r().map(C=>C.ref).map(C=>{const A=[C,...$e(C)];return P==="forwards"?A:A.reverse()});return(P==="forwards"?y.reverse():y).flat()}return(P,d)=>(v(),w(e(ze),{role:"region","aria-label":typeof e(t)=="string"?e(t).replace("{hotkey}",S.value):e(t)(S.value),tabindex:"-1",style:Ae({pointerEvents:p.value?void 0:"none"})},{default:m(()=>[p.value?(v(),w(pe,{key:0,ref:y=>{T.value=e(le)(y)},onFocusFromOutsideViewport:d[0]||(d[0]=()=>{const y=B({tabbingDirection:"forwards"});e(J)(y)})},null,512)):L("v-if",!0),R(e(f),null,{default:m(()=>[R(e(q),N({ref:e(u),tabindex:"-1",as:P.as,"as-child":P.asChild},P.$attrs),{default:m(()=>[E(P.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),p.value?(v(),w(pe,{key:1,ref:y=>{g.value=e(le)(y)},onFocusFromOutsideViewport:d[1]||(d[1]=()=>{const y=B({tabbingDirection:"backwards"});e(J)(y)})},null,512)):L("v-if",!0)]),_:3},8,["aria-label","style"]))}}),yt=Tt;const wt={class:"flex flex-col w-full"},oe=h({__name:"ToastGroup",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},closeAble:{type:Boolean,default:!0},closeTapOutside:{type:Boolean,default:!0}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(o,{emit:s}){const a=o,t=s,u=Ve(a,t);return(i,f)=>(v(),w(e(Ye),null,{default:m(()=>[(v(),w(Q,{to:"body"},[a.open?(v(),w(e(q),{key:0,as:"BgToast",onClick:f[0]||(f[0]=()=>o.closeTapOutside&&t("update:open",!1)),class:U(e(O)("fixed top-0 h-full w-full bg-black-800/50 mobile:hidden"))},null,8,["class"])):L("",!0)])),E(i.$slots,"triggerToast"),R(e(ct),N(e(u),{class:e(O)(e(_t)({variant:o.variant}),a.class)}),{default:m(()=>[Ie("div",wt,[E(i.$slots,"default")]),o.closeAble?(v(),w(e(it),{key:0,class:U(e(O)("text-black-50 flex items-start h-full hover:text-black-60 focus:outline-hidden"))},{default:m(()=>[R(e(Me),{icon:e(Oe),weight:"outline",class:"w-[18px] text-white hover:cursor-pointer"},null,8,["icon"])]),_:1},8,["class"])):L("",!0)]),_:3},16,["class"]),(v(),w(Q,{to:"body"},[R(e(yt),{class:U(e(O)("fixed bottom-0 flex flex-col gap-2 w-full z-[2147483647] list-none outline-none","mobile:top-[64px] mobile:bottom-auto mobile: mobile:right-auto mobile:left-1/2 mobile:transform mobile:-translate-x-1/2 mobile:w-fit"))},null,8,["class"])]))]),_:3}))}});oe.__docgenInfo={exportName:"default",displayName:"ToastGroup",description:"",tags:{},props:[{name:"closeAble",defaultValue:{func:!1,value:"true"}},{name:"closeTapOutside",defaultValue:{func:!1,value:"true"}}],slots:[{name:"triggerToast"},{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-ui/src/components/toast/ToastGroup.vue"]};const re=h({__name:"ToastDescription",props:{class:{}},setup(o){const s=V(()=>({"text-sigma font-regular [&_p]:leading-relaxed":!0})),a=o;return(t,u)=>(v(),w(e(pt),{class:U(e(O)(s.value,a.class))},{default:m(()=>[E(t.$slots,"default")]),_:3},8,["class"]))}});re.__docgenInfo={exportName:"default",displayName:"ToastDescription",description:"",tags:{},props:[{name:"class",required:!1,type:{name:"TSIndexedAccessType"}}],slots:[{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-ui/src/components/toast/ToastDescription.vue"]};const ne=h({__name:"ToastTitle",props:{class:{}},setup(o){const s=V(()=>({"mb-1 text-omicron font-bold leading-none tracking-tight":!0})),a=o;return(t,u)=>(v(),w(e(vt),{class:U(e(O)(s.value,a.class))},{default:m(()=>[E(t.$slots,"default")]),_:3},8,["class"]))}});ne.__docgenInfo={exportName:"default",displayName:"ToastTitle",description:"",tags:{},props:[{name:"class",required:!1,type:{name:"TSIndexedAccessType"}}],slots:[{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-ui/src/components/toast/ToastTitle.vue"]};const _t=Le("rounded-t-md mobile:rounded-md relative flex flex-row gap-2 w-full text-white p-4 [&>svg~*]:pl-10 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-lime-500",error:"bg-red-500",success:"bg-lime-500",warning:"bg-orange-500",info:"bg-blue-500"}},defaultVariants:{variant:"default"}}),Ot={title:"Components/Toast",component:oe,subcomponents:{ToastTitle:ne,ToastDescription:re},tags:["autodocs"],argTypes:{variant:{control:{type:"select",options:["default","info","success","warning","error"]}},closeAble:{control:"boolean"},closeTapOutside:{control:"boolean"}},args:{open:!1,default:`
       <template #triggerToast>
            <GButton variant="primary" size="md" @click="() => (args.open = true)"> Open Toast </GButton>
        </template>
        <ToastTitle>Title</ToastTitle>
        <ToastDescription>Lorem Ipsum Dolor Sit Amet</ToastDescription>
        `}},H={render:o=>({components:{ToastGroup:oe,ToastTitle:ne,ToastDescription:re,GButton:Ge},setup(){return{args:o}},template:`
    <ToastGroup v-bind="args" v-model:open="args.open">
        ${o.default}
    </ToastGroup>
    `})};var de,ce,fe;H.parameters={...H.parameters,docs:{...(de=H.parameters)==null?void 0:de.docs,source:{originalSource:`{
  render: (args: {
    default: string;
  }) => ({
    components: {
      ToastGroup,
      ToastTitle,
      ToastDescription,
      GButton
    },
    setup() {
      return {
        args
      };
    },
    template: \`
    <ToastGroup v-bind="args" v-model:open="args.open">
        \${args.default}
    </ToastGroup>
    \`
  })
}`,...(fe=(ce=H.parameters)==null?void 0:ce.docs)==null?void 0:fe.source}}};const Vt=["Default"];export{H as Default,Vt as __namedExportsOrder,Ot as default};
