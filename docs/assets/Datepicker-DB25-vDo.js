import{d as U,r as n,c as I,w as g,k as Y,W as H,I as h,L as W,b as V,e as C,a2 as P,G as S,n as q,j,T as A,q as B,o as c}from"./vue.esm-bundler-CDO2oHXK.js";import{C as D,D as F}from"./Drawer-pHC8HqHy.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=["value","placeholder","disabled"],z=U({__name:"Datepicker",props:{modelValue:{},placeholder:{},calendarPosition:{},calendarPositionY:{},min:{},max:{},disableTeleport:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:E}){const r=i,x=E,l=n(!1),o=n(r.modelValue??""),L=n(null),f=n(null),p=n(null),y=n({}),d=n(r.modelValue??""),b=n(!1);function R(e){if(!e)return"";const[a,t,u]=e.split("-");return`${u}/${t}/${a}`}const T=I(()=>o.value?R(o.value):"");function k(e){o.value=e,x("update:modelValue",e),l.value=!1}function $(){l.value=!l.value,l.value&&B(()=>{s()})}function s(){if(!f.value||!p.value)return;const e=f.value.getBoundingClientRect(),a=e.width,t=p.value.offsetHeight||320;let u=e.bottom,w=e.left;r.calendarPosition==="center"?w=e.left+e.width/2-a/2:r.calendarPosition==="right"&&(w=e.right-a);let m=r.calendarPositionY??"bottom";if(m==="auto"){const M=window.innerHeight-e.bottom,N=e.top;M<t&&N>t?m="top":m="bottom"}m==="top"&&(u=e.top-t),y.value={position:"fixed",top:`${u}px`,left:`${w}px`,width:`${a}px`,zIndex:"9999"}}g(()=>r.modelValue,e=>{e!==d.value&&(d.value=e??""),o.value=e??""}),g(d,e=>{x("update:modelValue",e)}),g(l,e=>{e&&B(s)});function v(){b.value=window.innerWidth<640}return Y(()=>{d.value=r.modelValue??"",window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),window.addEventListener("resize",v),v()}),H(()=>{window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s),window.removeEventListener("resize",v)}),(e,a)=>(c(),h("div",{class:"relative w-full",ref_key:"wrapperRef",ref:f},[W("input",{class:"pr-10 cursor-pointer flex w-full rounded-md border border-input bg-background px-3 py-[11px] text-omicron ring-offset-background file:border-0 file:bg-transparent file:text-omicron file:font-default file-placeholder:text-black-50 placeholder:text-blcak-50 focus-visible:outline-hidden focus-visible:border-lime-50 focus-visible:ring-ring focus-visible:ring-offset-2 hover:border-lime-500 transition-all duration-100 focus:border-lime-500 disabled:cursor-not-allowed disabled:bg-black-200 disabled:text-black-600 disabled:focus:border-transparent disabled:hover:border-transparent",ref_key:"inputRef",ref:L,type:"text",value:T.value,onClick:$,readonly:"",placeholder:i.placeholder,disabled:i.disabled},null,8,J),(c(),V(A,{to:"body"},[l.value&&!b.value?(c(),h("div",{key:0,class:"z-[9999] fixed",style:S(y.value),onMousedown:a[1]||(a[1]=P(()=>{},["stop"])),onClick:a[2]||(a[2]=P(()=>{},["stop"])),ref_key:"calendarRef",ref:p},[q(D,{modelValue:o.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>o.value=t),k],min:i.min,max:i.max,class:"shadow-lg bg-white"},null,8,["modelValue","min","max"])],36)):C("",!0),b.value?(c(),V(F,{key:1,modelValue:l.value,"onUpdate:modelValue":a[4]||(a[4]=t=>l.value=t),label:"Pilih Tanggal",position:"bottom"},{default:j(()=>[q(D,{class:"!w-full !p-0 border-0",yearClass:"!shadow-none !w-full border-x-0",yearClassContent:"gap-x-8",modelValue:o.value,"onUpdate:modelValue":[a[3]||(a[3]=t=>o.value=t),k],min:i.min,max:i.max},null,8,["modelValue","min","max"])]),_:1},8,["modelValue"])):C("",!0)]))],512))}}),X=G(z,[["__scopeId","data-v-c577d84e"]]);z.__docgenInfo={exportName:"default",displayName:"Datepicker",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"calendarPosition",required:!1,type:{name:"union",elements:[{name:'"left"'},{name:'"center"'},{name:'"right"'}]}},{name:"calendarPositionY",required:!1,type:{name:"union",elements:[{name:'"top"'},{name:'"bottom"'},{name:'"auto"'}]}},{name:"min",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"string"}},{name:"disableTeleport",required:!1,type:{name:"boolean"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"update:modelValue",type:{names:["string"]}}],sourceFiles:["/Users/lord/Documents/asd/gwind-ui/src/components/datepicker/Datepicker.vue"]};export{X as D};
