import{d as U,r as n,c as H,w,k as Y,X as I,J as x,M as _,b as h,e as V,a3 as C,H as S,n as P,j as W,T as j,q,o as m}from"./vue.esm-bundler-DAoQZYEK.js";import{C as B,D as A}from"./Drawer-DfBqbaQt.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=["value","placeholder","disabled"],D=U({__name:"Datepicker",props:{modelValue:{},placeholder:{},calendarPosition:{},calendarPositionY:{},min:{},max:{},disableTeleport:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue"],setup(z,{emit:E}){const i=z,g=E,l=n(!1),t=n(i.modelValue??""),R=n(null),p=n(null),c=n(null),y=n({}),s=n(i.modelValue??""),f=n(!1);function L(e){if(!e)return"";const[a,o,d]=e.split("-");return`${d}/${o}/${a}`}const M=H(()=>t.value?L(t.value):"");function k(e){t.value=e,g("update:modelValue",e),l.value=!1}function T(){l.value=!l.value,l.value&&q(()=>{r()})}function r(){if(!p.value||!c.value)return;const e=p.value.getBoundingClientRect(),a=e.width,o=c.value.offsetHeight||320;let d=e.bottom,v=e.left;i.calendarPosition==="center"?v=e.left+e.width/2-a/2:i.calendarPosition==="right"&&(v=e.right-a);let u=i.calendarPositionY??"bottom";if(u==="auto"){const $=window.innerHeight-e.bottom,N=e.top;$<o&&N>o?u="top":u="bottom"}u==="top"&&(d=e.top-o),y.value={position:"fixed",top:`${d}px`,left:`${v}px`,width:`${a}px`,zIndex:"9999"}}w(()=>i.modelValue,e=>{e!==s.value&&(s.value=e??""),t.value=e??""}),w(s,e=>{g("update:modelValue",e)}),w(l,e=>{e&&q(r)});function b(){f.value=window.innerWidth<640}return Y(()=>{s.value=i.modelValue??"",window.addEventListener("scroll",r,!0),window.addEventListener("resize",r),window.addEventListener("resize",b),b()}),I(()=>{window.removeEventListener("scroll",r,!0),window.removeEventListener("resize",r),window.removeEventListener("resize",b)}),(e,a)=>(m(),x("div",{class:"relative w-full",ref_key:"wrapperRef",ref:p},[_("input",{class:"pr-10 cursor-pointer flex w-full rounded-md border border-input bg-background px-3 py-[11px] text-omicron ring-offset-background file:border-0 file:bg-transparent file:text-omicron file:font-default file-placeholder:text-black-50 placeholder:text-blcak-50 focus-visible:outline-hidden focus-visible:border-lime-50 focus-visible:ring-ring focus-visible:ring-offset-2 hover:border-lime-500 transition-all duration-100 focus:border-lime-500 disabled:cursor-not-allowed disabled:bg-black-200 disabled:text-black-600 disabled:focus:border-transparent disabled:hover:border-transparent",ref_key:"inputRef",ref:R,type:"text",value:M.value,onClick:T,readonly:"",placeholder:e.placeholder,disabled:e.disabled},null,8,J),(m(),h(j,{to:"body"},[l.value&&!f.value?(m(),x("div",{key:0,class:"z-[9999] fixed",style:S(y.value),onMousedown:a[1]||(a[1]=C(()=>{},["stop"])),onClick:a[2]||(a[2]=C(()=>{},["stop"])),ref_key:"calendarRef",ref:c},[P(B,{modelValue:t.value,"onUpdate:modelValue":[a[0]||(a[0]=o=>t.value=o),k],min:e.min,max:e.max,class:"shadow-lg bg-white"},null,8,["modelValue","min","max"])],36)):V("",!0),f.value?(m(),h(A,{key:1,modelValue:l.value,"onUpdate:modelValue":a[4]||(a[4]=o=>l.value=o),label:"Pilih Tanggal",position:"bottom"},{default:W(()=>[P(B,{class:"!w-full !p-0 border-0",yearClass:"!shadow-none !w-full border-x-0",yearClassContent:"gap-x-8",modelValue:t.value,"onUpdate:modelValue":[a[3]||(a[3]=o=>t.value=o),k],min:e.min,max:e.max},null,8,["modelValue","min","max"])]),_:1},8,["modelValue"])):V("",!0)]))],512))}}),O=F(D,[["__scopeId","data-v-c577d84e"]]);D.__docgenInfo={exportName:"default",displayName:"Datepicker",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"calendarPosition",required:!1,type:{name:"union",elements:[{name:'"left"'},{name:'"center"'},{name:'"right"'}]}},{name:"calendarPositionY",required:!1,type:{name:"union",elements:[{name:'"top"'},{name:'"bottom"'},{name:'"auto"'}]}},{name:"min",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"string"}},{name:"disableTeleport",required:!1,type:{name:"boolean"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"update:modelValue",type:{names:["string"]}}],sourceFiles:["/Users/lord/Documents/asd/gwind-vue/src/components/datepicker/Datepicker.vue"]};export{O as D};
