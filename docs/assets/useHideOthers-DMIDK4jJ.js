import{i as C}from"./ConfigProvider-DurQEXP4.js";import{c as B,r as h,w as E,q as D,l as P}from"./vue.esm-bundler-CDO2oHXK.js";import{g as x,h as _,i as R,j as k,k as $,c as H}from"./useForwardExpose-BfXw-hnz.js";function g(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function w(t,e,r=".",n){if(!g(e))return w(t,{},r,n);const o=Object.assign({},e);for(const a in t){if(a==="__proto__"||a==="constructor")continue;const l=t[a];l!=null&&(n&&n(o,a,l,r)||(Array.isArray(l)&&Array.isArray(o[a])?o[a]=[...l,...o[a]]:g(l)&&g(o[a])?o[a]=w(l,o[a],(r?`${r}.`:"")+a.toString(),n):o[a]=l))}return o}function Y(t){return(...e)=>e.reduce((r,n)=>w(r,n,"",t),{})}const q=Y(),L=x(()=>{const t=h(new Map),e=h(),r=B(()=>{for(const l of t.value.values())if(l)return!0;return!1}),n=C({scrollBody:h(!0)});let o=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",k&&(o==null||o()),e.value=void 0};return E(r,(l,f)=>{var i;if(!R)return;if(!l){f&&a();return}e.value===void 0&&(e.value=document.body.style.overflow);const s=window.innerWidth-document.documentElement.clientWidth,y={padding:s,margin:0},c=(i=n.scrollBody)!=null&&i.value?typeof n.scrollBody.value=="object"?q({padding:n.scrollBody.value.padding===!0?s:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?s:n.scrollBody.value.margin},y):y:{padding:0,margin:0};s>0&&(document.body.style.paddingRight=typeof c.padding=="number"?`${c.padding}px`:String(c.padding),document.body.style.marginRight=typeof c.margin=="number"?`${c.margin}px`:String(c.margin),document.documentElement.style.setProperty("--scrollbar-width",`${s}px`),document.body.style.overflow="hidden"),k&&(o=$(document,"touchmove",u=>U(u),{passive:!1})),D(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function J(t){const e=Math.random().toString(36).substring(2,7),r=L();r.value.set(e,t??!1);const n=B({get:()=>r.value.get(e)??!1,set:o=>r.value.set(e,o)});return _(()=>{r.value.delete(e)}),n}function W(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:W(r)}}function U(t){const e=t||window.event,r=e.target;return r instanceof Element&&W(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}var X=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},d=new WeakMap,p=new WeakMap,m={},b=0,j=function(t){return t&&(t.host||j(t.parentNode))},I=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=j(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},K=function(t,e,r,n){var o=I(e,Array.isArray(t)?t:[t]);m[r]||(m[r]=new WeakMap);var a=m[r],l=[],f=new Set,s=new Set(o),y=function(i){!i||f.has(i)||(f.add(i),y(i.parentNode))};o.forEach(y);var c=function(i){!i||s.has(i)||Array.prototype.forEach.call(i.children,function(u){if(f.has(u))c(u);else try{var v=u.getAttribute(n),S=v!==null&&v!=="false",A=(d.get(u)||0)+1,O=(a.get(u)||0)+1;d.set(u,A),a.set(u,O),l.push(u),A===1&&S&&p.set(u,!0),O===1&&u.setAttribute(r,"true"),S||u.setAttribute(n,"true")}catch(M){console.error("aria-hidden: cannot operate on ",u,M)}})};return c(e),f.clear(),b++,function(){l.forEach(function(i){var u=d.get(i)-1,v=a.get(i)-1;d.set(i,u),a.set(i,v),u||(p.has(i)||i.removeAttribute(n),p.delete(i)),v||i.removeAttribute(r)}),b--,b||(d=new WeakMap,d=new WeakMap,p=new WeakMap,m={})}},N=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=X(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),K(n,o,r,"aria-hidden")):function(){return null}};function Q(t){let e;E(()=>H(t),r=>{r?e=N(r):e&&e()}),P(()=>{e&&e()})}export{Q as a,J as u};
