import{d as C,b as y,o as m,j as v,g as h,f as e,x as me,r as x,e as M,P as ve,N as we,c as V,s as Te,w as De,k as se,l as ye,J as ke,n as R,m as N,a3 as Re,T as Q,L as $e,y as ge,z as be,H as Se,O as W,M as Ie}from"./vue.esm-bundler-DAoQZYEK.js";import{a as L}from"./utils-oDltpQaF.js";import{p as Fe,q as Ee,b as O,o as he,i as Ae,u as Be,c as ie}from"./useForwardExpose-D9aka3cn.js";import{P as A}from"./Primitive-Dw578XAm.js";import{c as Me}from"./index-BpnQ1vdY.js";import{G as Oe}from"./GIcon-BnVbbYcM.js";import{G as Le}from"./g-icon-cross-C_9ug1ue.js";import{u as Ve}from"./useForwardPropsEmits-CKR2vMz0.js";import{u as oe}from"./Collection-DofB2lS5.js";import{c as Ce}from"./createContext-Ddb9PwdX.js";import{_ as _e}from"./VisuallyHidden-B5XNmWwn.js";import{g as Z}from"./getActiveElement-FUKBWQwh.js";import{P as Ne}from"./Presence-Dx3HIjvu.js";import{c as le}from"./DismissableLayer-A7n_gjZN.js";import{a as J,g as Ke}from"./utils-T_AZzJOL.js";import{_ as Ge}from"./button-BUVIvCLT.js";import"./usePrimitiveElement-BMNSglW7.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";const ze=C({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(r){return(s,o)=>(m(),y(e(A),{as:s.as,"as-child":s.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":s.altText||void 0},{default:v(()=>[h(s.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),[j,Ue]=Ce("ToastProvider"),We=C({inheritAttrs:!1,__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(r){const s=r,{label:o,duration:t,swipeDirection:u,swipeThreshold:l}=me(s);oe({isProvider:!0});const f=x(),a=x(0),n=x(!1),p=x(!1);if(s.label&&typeof s.label=="string"&&!s.label.trim()){const w="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(w)}return Ue({label:o,duration:t,swipeDirection:u,swipeThreshold:l,toastCount:a,viewport:f,onViewportChange(w){f.value=w},onToastAdd(){a.value++},onToastRemove(){a.value--},isFocusedToastEscapeKeyDownRef:n,isClosePausedRef:p}),(w,b)=>h(w.$slots,"default")}}),Xe=C({__name:"ToastAnnounce",setup(r){const s=j(),o=Fe(1e3),t=x(!1);return Ee(()=>{t.value=!0}),(u,l)=>e(o)||t.value?(m(),y(e(_e),{key:0},{default:v(()=>[ve(we(e(s).label.value)+" ",1),h(u.$slots,"default")]),_:3})):M("",!0)}}),He="toast.swipeStart",Ye="toast.swipeMove",je="toast.swipeCancel",qe="toast.swipeEnd",ee="toast.viewportPause",te="toast.viewportResume";function H(r,s,o){const t=o.originalEvent.currentTarget,u=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:o});s&&t.addEventListener(r,s,{once:!0}),t.dispatchEvent(u)}function ue(r,s,o=0){const t=Math.abs(r.x),u=Math.abs(r.y),l=t>u;return s==="left"||s==="right"?l&&t>o:!l&&u>o}function Je(r){return r.nodeType===r.ELEMENT_NODE}function xe(r){const s=[];return Array.from(r.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),Je(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",l=t.dataset.rekaToastAnnounceExclude==="";if(!u)if(l){const f=t.dataset.rekaToastAnnounceAlt;f&&s.push(f)}else s.push(...xe(t))}}),s}const[Qe,Ze]=Ce("ToastRoot"),et=C({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(r,{emit:s}){const o=r,t=s,{forwardRef:u,currentElement:l}=O(),{CollectionItem:f}=oe(),a=j(),n=x(null),p=x(null),w=V(()=>typeof o.duration=="number"?o.duration:a.duration.value),b=x(0),$=x(w.value),B=x(0),P=x(w.value),c=Ee(()=>{const d=new Date().getTime()-b.value;P.value=Math.max($.value-d,0)},{fpsLimit:60});function T(d){d<=0||d===Number.POSITIVE_INFINITY||Ae&&(window.clearTimeout(B.value),b.value=new Date().getTime(),B.value=window.setTimeout(_,d))}function _(d){var E,D;const g=(d==null?void 0:d.pointerType)==="";((E=l.value)==null?void 0:E.contains(Z()))&&g&&((D=a.viewport.value)==null||D.focus()),g&&(a.isClosePausedRef.value=!1),t("close")}const S=V(()=>l.value?xe(l.value):null);if(o.type&&!["foreground","background"].includes(o.type)){const d="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(d)}return Te(d=>{const g=a.viewport.value;if(g){const i=()=>{T($.value),c.resume(),t("resume")},E=()=>{const D=new Date().getTime()-b.value;$.value=$.value-D,window.clearTimeout(B.value),c.pause(),t("pause")};return g.addEventListener(ee,E),g.addEventListener(te,i),()=>{g.removeEventListener(ee,E),g.removeEventListener(te,i)}}}),De(()=>[o.open,w.value],()=>{$.value=w.value,o.open&&!a.isClosePausedRef.value&&T(w.value)},{immediate:!0}),he("Escape",d=>{t("escapeKeyDown",d),d.defaultPrevented||(a.isFocusedToastEscapeKeyDownRef.value=!0,_())}),se(()=>{a.onToastAdd()}),ye(()=>{a.onToastRemove()}),Ze({onClose:_}),(d,g)=>(m(),ke($e,null,[S.value?(m(),y(Xe,{key:0,role:"alert","aria-live":d.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:v(()=>[ve(we(S.value),1)]),_:1},8,["aria-live"])):M("",!0),e(a).viewport.value?(m(),y(Q,{key:1,to:e(a).viewport.value},[R(e(f),null,{default:v(()=>[R(e(A),N({ref:e(u),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},d.$attrs,{as:d.as,"as-child":d.asChild,"data-state":d.open?"open":"closed","data-swipe-direction":e(a).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:g[0]||(g[0]=Re(i=>{n.value={x:i.clientX,y:i.clientY}},["left"])),onPointermove:g[1]||(g[1]=i=>{if(!n.value)return;const E=i.clientX-n.value.x,D=i.clientY-n.value.y,I=!!p.value,F=["left","right"].includes(e(a).swipeDirection.value),k=["left","up"].includes(e(a).swipeDirection.value)?Math.min:Math.max,q=F?k(0,E):0,K=F?0:k(0,D),X=i.pointerType==="touch"?10:2,G={x:q,y:K},z={originalEvent:i,delta:G};I?(p.value=G,e(H)(e(Ye),U=>t("swipeMove",U),z)):e(ue)(G,e(a).swipeDirection.value,X)?(p.value=G,e(H)(e(He),U=>t("swipeStart",U),z),i.target.setPointerCapture(i.pointerId)):(Math.abs(E)>X||Math.abs(D)>X)&&(n.value=null)}),onPointerup:g[2]||(g[2]=i=>{const E=p.value,D=i.target;if(D.hasPointerCapture(i.pointerId)&&D.releasePointerCapture(i.pointerId),p.value=null,n.value=null,E){const I=i.currentTarget,F={originalEvent:i,delta:E};e(ue)(E,e(a).swipeDirection.value,e(a).swipeThreshold.value)?e(H)(e(qe),k=>t("swipeEnd",k),F):e(H)(e(je),k=>t("swipeCancel",k),F),I==null||I.addEventListener("click",k=>k.preventDefault(),{once:!0})}})}),{default:v(()=>[h(d.$slots,"default",{remaining:P.value,duration:w.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):M("",!0)],64))}}),tt=C({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r,o=Qe(),{forwardRef:t}=O();return(u,l)=>(m(),y(ze,{"as-child":""},{default:v(()=>[R(e(A),N(s,{ref:e(t),type:u.as==="button"?"button":void 0,onClick:e(o).onClose}),{default:v(()=>[h(u.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),st=C({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return O(),(o,t)=>(m(),y(e(A),ge(be(s)),{default:v(()=>[h(o.$slots,"default")]),_:3},16))}}),ot=C({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(r,{emit:s}){const o=r,t=s,{forwardRef:u}=O(),l=Be(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0});return(f,a)=>(m(),y(e(Ne),{present:f.forceMount||e(l)},{default:v(()=>[R(et,N({ref:e(u),open:e(l),type:f.type,as:f.as,"as-child":f.asChild,duration:f.duration},f.$attrs,{onClose:a[0]||(a[0]=n=>l.value=!1),onPause:a[1]||(a[1]=n=>t("pause")),onResume:a[2]||(a[2]=n=>t("resume")),onEscapeKeyDown:a[3]||(a[3]=n=>t("escapeKeyDown",n)),onSwipeStart:a[4]||(a[4]=n=>{t("swipeStart",n),n.defaultPrevented||n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:a[5]||(a[5]=n=>{if(t("swipeMove",n),!n.defaultPrevented){const{x:p,y:w}=n.detail.delta,b=n.currentTarget;b.setAttribute("data-swipe","move"),b.style.setProperty("--reka-toast-swipe-move-x",`${p}px`),b.style.setProperty("--reka-toast-swipe-move-y",`${w}px`)}}),onSwipeCancel:a[6]||(a[6]=n=>{if(t("swipeCancel",n),!n.defaultPrevented){const p=n.currentTarget;p.setAttribute("data-swipe","cancel"),p.style.removeProperty("--reka-toast-swipe-move-x"),p.style.removeProperty("--reka-toast-swipe-move-y"),p.style.removeProperty("--reka-toast-swipe-end-x"),p.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:a[7]||(a[7]=n=>{if(t("swipeEnd",n),!n.defaultPrevented){const{x:p,y:w}=n.detail.delta,b=n.currentTarget;b.setAttribute("data-swipe","end"),b.style.removeProperty("--reka-toast-swipe-move-x"),b.style.removeProperty("--reka-toast-swipe-move-y"),b.style.setProperty("--reka-toast-swipe-end-x",`${p}px`),b.style.setProperty("--reka-toast-swipe-end-y",`${w}px`),l.value=!1}})}),{default:v(({remaining:n,duration:p})=>[h(f.$slots,"default",{remaining:n,duration:p,open:e(l)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),at=C({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return O(),(o,t)=>(m(),y(e(A),ge(be(s)),{default:v(()=>[h(o.$slots,"default")]),_:3},16))}}),nt=C({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r,{forwardRef:o,currentElement:t}=O();return se(()=>{le.branches.add(t.value)}),ye(()=>{le.branches.delete(t.value)}),(u,l)=>(m(),y(e(A),N({ref:e(o)},s),{default:v(()=>[h(u.$slots,"default")]),_:3},16))}}),pe=C({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(r,{emit:s}){const o=s,t=j();return(u,l)=>(m(),y(e(_e),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:l[0]||(l[0]=f=>{var p;const a=f.relatedTarget;!((p=e(t).viewport.value)!=null&&p.contains(a))&&o("focusFromOutsideViewport")})},{default:v(()=>[h(u.$slots,"default")]),_:3}))}}),rt=C({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(r){const s=r,{hotkey:o,label:t}=me(s),{forwardRef:u,currentElement:l}=O(),{CollectionSlot:f,getItems:a}=oe(),n=j(),p=V(()=>n.toastCount.value>0),w=x(),b=x(),$=V(()=>o.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));he(o.value,()=>{l.value.focus()}),se(()=>{n.onViewportChange(l.value)}),Te(P=>{const c=l.value;if(p.value&&c){const T=()=>{if(!n.isClosePausedRef.value){const i=new CustomEvent(ee);c.dispatchEvent(i),n.isClosePausedRef.value=!0}},_=()=>{if(n.isClosePausedRef.value){const i=new CustomEvent(te);c.dispatchEvent(i),n.isClosePausedRef.value=!1}},S=i=>{!c.contains(i.relatedTarget)&&_()},d=()=>{c.contains(Z())||_()},g=i=>{var I,F,k;const E=i.altKey||i.ctrlKey||i.metaKey;if(i.key==="Tab"&&!E){const q=Z(),K=i.shiftKey;if(i.target===c&&K){(I=w.value)==null||I.focus();return}const z=B({tabbingDirection:K?"backwards":"forwards"}),U=z.findIndex(Pe=>Pe===q);J(z.slice(U+1))?i.preventDefault():K?(F=w.value)==null||F.focus():(k=b.value)==null||k.focus()}};c.addEventListener("focusin",T),c.addEventListener("focusout",S),c.addEventListener("pointermove",T),c.addEventListener("pointerleave",d),c.addEventListener("keydown",g),window.addEventListener("blur",T),window.addEventListener("focus",_),P(()=>{c.removeEventListener("focusin",T),c.removeEventListener("focusout",S),c.removeEventListener("pointermove",T),c.removeEventListener("pointerleave",d),c.removeEventListener("keydown",g),window.removeEventListener("blur",T),window.removeEventListener("focus",_)})}});function B({tabbingDirection:P}){const T=a().map(_=>_.ref).map(_=>{const S=[_,...Ke(_)];return P==="forwards"?S:S.reverse()});return(P==="forwards"?T.reverse():T).flat()}return(P,c)=>(m(),y(e(nt),{role:"region","aria-label":typeof e(t)=="string"?e(t).replace("{hotkey}",$.value):e(t)($.value),tabindex:"-1",style:Se({pointerEvents:p.value?void 0:"none"})},{default:v(()=>[p.value?(m(),y(pe,{key:0,ref:T=>{w.value=e(ie)(T)},onFocusFromOutsideViewport:c[0]||(c[0]=()=>{const T=B({tabbingDirection:"forwards"});e(J)(T)})},null,512)):M("",!0),R(e(f),null,{default:v(()=>[R(e(A),N({ref:e(u),tabindex:"-1",as:P.as,"as-child":P.asChild},P.$attrs),{default:v(()=>[h(P.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),p.value?(m(),y(pe,{key:1,ref:T=>{b.value=e(ie)(T)},onFocusFromOutsideViewport:c[1]||(c[1]=()=>{const T=B({tabbingDirection:"backwards"});e(J)(T)})},null,512)):M("",!0)]),_:3},8,["aria-label","style"]))}}),it={class:"flex flex-col w-full"},ae=C({__name:"ToastGroup",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},closeAble:{type:Boolean,default:!0},closeTapOutside:{type:Boolean,default:!0}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(r,{emit:s}){const o=r,t=s,u=Ve(o,t);return(l,f)=>(m(),y(e(We),null,{default:v(()=>[(m(),y(Q,{to:"body"},[o.open?(m(),y(e(A),{key:0,as:"BgToast",onClick:f[0]||(f[0]=()=>l.closeTapOutside&&t("update:open",!1)),class:W(e(L)("fixed top-0 h-full w-full bg-black-800/50 mobile:hidden"))},null,8,["class"])):M("",!0)])),h(l.$slots,"triggerToast"),R(e(ot),N(e(u),{class:e(L)(e(lt)({variant:l.variant}),o.class)}),{default:v(()=>[Ie("div",it,[h(l.$slots,"default")]),l.closeAble?(m(),y(e(tt),{key:0,class:W(e(L)("text-black-50 flex items-start h-full hover:text-black-60 focus:outline-hidden"))},{default:v(()=>[R(e(Oe),{icon:e(Le),weight:"outline",class:"w-[18px] text-white hover:cursor-pointer"},null,8,["icon"])]),_:1},8,["class"])):M("",!0)]),_:3},16,["class"]),(m(),y(Q,{to:"body"},[R(e(rt),{class:W(e(L)("fixed bottom-0 flex flex-col gap-2 w-full z-[2147483647] list-none outline-none","mobile:top-[64px] mobile:bottom-auto mobile: mobile:right-auto mobile:left-1/2 mobile:transform mobile:-translate-x-1/2 mobile:w-fit"))},null,8,["class"])]))]),_:3}))}});ae.__docgenInfo={exportName:"default",displayName:"ToastGroup",description:"",tags:{},props:[{name:"closeAble",defaultValue:{func:!1,value:"true"}},{name:"closeTapOutside",defaultValue:{func:!1,value:"true"}}],slots:[{name:"triggerToast"},{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-vue/src/components/toast/ToastGroup.vue"]};const ne=C({__name:"ToastDescription",props:{class:{}},setup(r){const s=V(()=>({"text-sigma font-regular [&_p]:leading-relaxed":!0})),o=r;return(t,u)=>(m(),y(e(st),{class:W(e(L)(s.value,o.class))},{default:v(()=>[h(t.$slots,"default")]),_:3},8,["class"]))}});ne.__docgenInfo={exportName:"default",displayName:"ToastDescription",description:"",tags:{},props:[{name:"class",required:!1,type:{name:"TSIndexedAccessType"}}],slots:[{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-vue/src/components/toast/ToastDescription.vue"]};const re=C({__name:"ToastTitle",props:{class:{}},setup(r){const s=V(()=>({"mb-1 text-omicron font-bold leading-none tracking-tight":!0})),o=r;return(t,u)=>(m(),y(e(at),{class:W(e(L)(s.value,o.class))},{default:v(()=>[h(t.$slots,"default")]),_:3},8,["class"]))}});re.__docgenInfo={exportName:"default",displayName:"ToastTitle",description:"",tags:{},props:[{name:"class",required:!1,type:{name:"TSIndexedAccessType"}}],slots:[{name:"default"}],sourceFiles:["/Users/lord/Documents/asd/gwind-vue/src/components/toast/ToastTitle.vue"]};const lt=Me("rounded-t-md mobile:rounded-md relative flex flex-row gap-2 w-full text-white p-4 [&>svg~*]:pl-10 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-lime-500",error:"bg-red-500",success:"bg-lime-500",warning:"bg-orange-500",info:"bg-blue-500"}},defaultVariants:{variant:"default"}}),Dt={title:"Components/Toast",component:ae,subcomponents:{ToastTitle:re,ToastDescription:ne},tags:["autodocs"],argTypes:{variant:{control:{type:"select",options:["default","info","success","warning","error"]}},closeAble:{control:"boolean"},closeTapOutside:{control:"boolean"}},args:{open:!1,default:`
       <template #triggerToast>
            <GButton variant="primary" size="md" @click="() => (args.open = true)"> Open Toast </GButton>
        </template>
        <ToastTitle>Title</ToastTitle>
        <ToastDescription>Lorem Ipsum Dolor Sit Amet</ToastDescription>
        `}},Y={render:r=>({components:{ToastGroup:ae,ToastTitle:re,ToastDescription:ne,GButton:Ge},setup(){return{args:r}},template:`
    <ToastGroup v-bind="args" v-model:open="args.open">
        ${r.default}
    </ToastGroup>
    `})};var ce,de,fe;Y.parameters={...Y.parameters,docs:{...(ce=Y.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: (args: {
    default: string;
  }) => ({
    components: {
      ToastGroup,
      ToastTitle,
      ToastDescription,
      GButton
    },
    setup() {
      return {
        args
      };
    },
    template: \`
    <ToastGroup v-bind="args" v-model:open="args.open">
        \${args.default}
    </ToastGroup>
    \`
  })
}`,...(fe=(de=Y.parameters)==null?void 0:de.docs)==null?void 0:fe.source}}};const kt=["Default"];export{Y as Default,kt as __namedExportsOrder,Dt as default};
