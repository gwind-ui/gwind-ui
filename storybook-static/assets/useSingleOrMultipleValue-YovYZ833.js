import{u as d}from"./useForwardExpose-D9aka3cn.js";import{c as t}from"./vue.esm-bundler-DAoQZYEK.js";import{i as m}from"./isValueEqualOrExist-B5JO9E3o.js";import{i as a}from"./ohash.D__AXeF1-DHF4M4F_.js";function v({type:e,defaultValue:i,modelValue:r}){const n=r||i;return r!==void 0||i!==void 0?Array.isArray(n)?"multiple":"single":e??"single"}function g({type:e,defaultValue:i,modelValue:r}){return e||v({type:e,defaultValue:i,modelValue:r})}function p({type:e,defaultValue:i}){return i!==void 0?i:e==="single"?void 0:[]}function B(e,i){const r=t(()=>g(e)),n=d(e,"modelValue",i,{defaultValue:p(e),passive:e.modelValue===void 0,deep:!0});function o(l){if(r.value==="single")n.value=a(l,n.value)?void 0:l;else{const u=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(m(u,l)){const f=u.findIndex(c=>a(c,l));u.splice(f,1)}else u.push(l);n.value=u}}const s=t(()=>r.value==="single");return{modelValue:n,changeModelValue:o,isSingle:s}}export{B as u};
